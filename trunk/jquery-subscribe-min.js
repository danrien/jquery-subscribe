(function(e){var t=this;var n={};Uuid=function(e){return e?(e^((new Date).getTime()+Math.random())%16*16>>e/4).toString(16):([1e7]+ -1e3+ -4e3+ -8e3+ -1e11).replace(/[018]/g,Uuid)};var r=function(e){var t=this;t.variable=e;var n=new Array;var r=null;t.value=function(e){if(!e)return r;if(r==e)return;r=e;for(i in n)n[i].value(e)};t.add=function(e){n.push(e)}};var u=function(t,n,r,i){var s=this;var o=t;var u=n;n=s;s.value=function(t){if(t==null||t==="undefined")return o.value();if(t==s.value())return;if(r!=null&&e.type(r)==="function")t=r.call(u,t);o.value(t);if(i!=null&&e.type(i)==="function")i.call(u,t)};o.value(s.value())};var a=function(t,n,r,i){var s=this;var o=t;var u=n;var a=function(){var t=s.value();if(r!=null&&e.type(r)==="function")t=r.call(u,t);o.value(t)};e(u).change(a);s.value=function(t){var n=e(u);if(t==null||t==="undefined")return n.is("input, select, textarea")?n.val():n.text();if(t==s.value())return;if(n.is("input, select, textarea"))n.val(t);else n.text(t);if(i!=null&&e.type(i)==="function"){n.off("change",a);i.call(u,t);n.on("change",a)}};o.value(s.value())};t.methods={add:function(t){var i=e.extend({},t);var s=i["variable"]?i["variable"]:Uuid();return this.each(function(){if(!n.hasOwnProperty(s))n[s]=new r(s);if(!e.isPlainObject(this))n[s].add(new a(n[s],this,i["beforeUpdate"],i["afterUpdate"]));else n[s].add(new u(n[s],this,i["beforeUpdate"],i["afterUpdate"]))})},get:function(e){var t=this;var r={};if(e)return r={variable:n[e]};t.each(function(){for(s in n){for(o in n[s])if(n[s][o].object==this)r[s]=n[s]}});return subscribers}};e.fn.subscribe=function(n,r){if(!n)n="add";if(methods[n]){return t.methods[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"){return methods.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.subscribe")}}})(jQuery)